<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Finance Carsales - Login</title>
    <meta name="description" content="Login to your Auto Finance Carsales account">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="auth.css">
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner hidden" id="loadingSpinner">
        <div class="spinner" aria-hidden="true"></div>
        <span class="sr-only">Loading...</span>
    </div>
    
    <!-- Auth Header -->
    <header class="auth-header">
        <div class="container">
            <div class="auth-logo">AutoElite</div>
            <h1>Welcome Back</h1>
            <p>Sign in to your account to continue</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="auth-container">
        <div class="auth-card">
            <h2>Sign In</h2>
           
            <!-- Error Message -->
            <div class="alert alert-danger hidden" id="errorMessage" role="alert">
                <i class="fas fa-exclamation-circle" aria-hidden="true"></i> 
                <span id="errorText">Invalid email or password</span>
            </div>

            <!-- Rate Limit Message -->
            <div class="rate-limit-message hidden" id="rateLimitMessage">
                Too many login attempts. Please try again later.
            </div>
           
            <form id="loginForm" novalidate>
                <input type="hidden" id="csrfToken" name="csrfToken" value="">

                <div class="form-group">
                    <label for="loginEmail" class="form-label">Email Address</label>
                    <input type="email" id="loginEmail" class="form-control" required 
                           autocomplete="email" aria-describedby="emailHelp">
                    <div class="invalid-feedback" id="emailHelp">Please enter a valid email address</div>
                </div>
               
                <div class="form-group password-toggle">
                    <label for="loginPassword" class="form-label">Password</label>
                    <input type="password" id="loginPassword" class="form-control" required 
                           minlength="8" autocomplete="current-password" 
                           aria-describedby="passwordHelp">
                    <button type="button" class="password-toggle-icon" id="togglePassword" 
                            aria-label="Show password">
                        <i class="fas fa-eye" aria-hidden="true"></i>
                    </button>
                    <div class="invalid-feedback" id="passwordHelp">
                        Password must be at least 8 characters
                    </div>
                </div>
               
                <div class="form-group flex justify-between items-center">
                    <div class="checkbox-group">
                        <input type="checkbox" id="rememberMe" aria-label="Remember me">
                        <label for="rememberMe">Remember me</label>
                    </div>
                    <a href="forgot-password.html" class="text-sm">Forgot password?</a>
                </div>

                <!-- CAPTCHA placeholder -->
                <div class="captcha-container hidden" id="captchaContainer">
                    <div class="g-recaptcha" data-sitekey="your-site-key"></div>
                </div>
               
                <button type="submit" class="btn btn-primary" id="loginButton">
                    <i class="fas fa-sign-in-alt" aria-hidden="true"></i> 
                    <span>Sign In</span>
                </button>
            </form>
           
            <div class="social-login">
                <div class="social-login-title">Or sign in with</div>
                <div class="social-login-buttons">
                    <button type="button" class="social-btn facebook" aria-label="Sign in with Facebook">
                        <i class="fab fa-facebook-f" aria-hidden="true"></i> Facebook
                    </button>
                    <button type="button" class="social-btn google" aria-label="Sign in with Google">
                        <i class="fab fa-google" aria-hidden="true"></i> Google
                    </button>
                </div>
            </div>
           
            <div class="auth-footer">
                Don't have an account? <a href="register.html">Sign up</a>
            </div>
        </div>
    </main>

    <script src="auth.js" defer></script>
    <!-- Include reCAPTCHA only when needed -->
    <script>
        // This would be loaded dynamically when CAPTCHA is needed
        function loadRecaptcha() {
            var script = document.createElement('script');
            script.src = 'https://www.google.com/recaptcha/api.js';
            script.async = true;
            script.defer = true;
            document.body.appendChild(script);
        }
    </script>
</body>
</html>